# blogv4

[Yucchiy's Note](https://blog.yucchiy.com/) ã®ãƒ–ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ ãƒªãƒã‚¸ãƒˆãƒªã§ã™ã€‚

## æ¦‚è¦

ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯æŠ€è¡“ãƒ–ãƒ­ã‚°ã€ŒYucchiy's Noteã€ã®ãƒ–ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ æœ¬ä½“ã‚’ç®¡ç†ã—ã¦ã„ã¾ã™ã€‚
[Astro](https://astro.build/) v5.15.5 ã¨ [AstroPaper](https://github.com/satnaing/astro-paper) ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸé™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã§ã™ã€‚

è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã¯åˆ¥ãƒªãƒã‚¸ãƒˆãƒª [yucchiy/blog.yucchiy.com](https://github.com/yucchiy/blog.yucchiy.com) ã§ç®¡ç†ã•ã‚Œã¦ãŠã‚Šã€ã‚·ã‚¹ãƒ†ãƒ ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åˆ†é›¢ã™ã‚‹ã“ã¨ã§ä¿å®ˆæ€§ã‚’é«˜ã‚ã¦ã„ã¾ã™ã€‚

## ç‰¹å¾´

- ğŸ“ Markdown/MDXã«ã‚ˆã‚‹è¨˜äº‹åŸ·ç­†
- ğŸš€ é«˜é€Ÿãªãƒšãƒ¼ã‚¸è¡¨ç¤ºï¼ˆAstroã«ã‚ˆã‚‹é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆï¼‰
- ğŸ¨ ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ
- ğŸ” ãƒ•ã‚¡ã‚¸ãƒ¼æ¤œç´¢æ©Ÿèƒ½
- ğŸ“± ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
- â™¿ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ
- ğŸ·ï¸ ã‚¿ã‚°ãƒ»ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ©Ÿèƒ½
- ğŸ“Š å‹•çš„OGç”»åƒç”Ÿæˆ
- ğŸ—‚ï¸ è¤‡æ•°ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ã®ã‚µãƒãƒ¼ãƒˆï¼ˆblog / projectsï¼‰

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
blogv4/
â”œâ”€â”€ public/              # é™çš„ã‚¢ã‚»ãƒƒãƒˆ
â”‚   â””â”€â”€ assets/
â”‚       â””â”€â”€ images/      # è¨˜äº‹ç”»åƒï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹ï¼‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/          # ãƒ“ãƒ«ãƒ‰ã«å«ã¾ã‚Œã‚‹ã‚¢ã‚»ãƒƒãƒˆ
â”‚   â”œâ”€â”€ components/      # Astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ data/            # ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹ï¼‰
â”‚   â”‚   â”œâ”€â”€ blog/        # ãƒ–ãƒ­ã‚°è¨˜äº‹
â”‚   â”‚   â””â”€â”€ projects/    # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨˜äº‹
â”‚   â”œâ”€â”€ layouts/         # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ pages/           # ãƒšãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ styles/          # ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ utils/           # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”‚   â”œâ”€â”€ config.ts        # ã‚µã‚¤ãƒˆè¨­å®š
â”‚   â””â”€â”€ content.config.ts # ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¹ã‚­ãƒ¼ãƒå®šç¾©
â”œâ”€â”€ astro.config.ts      # Astroè¨­å®š
â”œâ”€â”€ tailwind.config.cjs  # TailwindCSSè¨­å®š
â””â”€â”€ package.json
```

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: [Astro](https://astro.build/) v5.15.5
- **å‹ãƒã‚§ãƒƒã‚¯**: [TypeScript](https://www.typescriptlang.org/)
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: [TailwindCSS](https://tailwindcss.com/)
- **æ¤œç´¢**: [Pagefind](https://pagefind.app/)
- **ã‚¢ã‚¤ã‚³ãƒ³**: [Tabler Icons](https://tabler-icons.io/)
- **ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: [Prettier](https://prettier.io/)
- **ãƒ‡ãƒ—ãƒ­ã‚¤**: GitHub Pages

## ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯2ç¨®é¡ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ï¼š

### blog ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

æŠ€è¡“è¨˜äº‹ã‚’ç®¡ç†ã—ã¾ã™ã€‚

**ã‚¹ã‚­ãƒ¼ãƒ**:
```typescript
{
  title: string;
  description?: string;
  tags?: string[];
  pubDatetime: Date;
  modDatetime?: Date;
  draft?: boolean;
  ogImage?: ImageMetadata | string;
}
```

### projects ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨˜äº‹ï¼ˆUnity Weeklyã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚·ãƒªãƒ¼ã‚ºãªã©ï¼‰ã‚’ç®¡ç†ã—ã¾ã™ã€‚

**ã‚¹ã‚­ãƒ¼ãƒ**:
```typescript
{
  type: "unity-weekly" | "directx12-csharp" | "opentk-opengl";
  title: string;
  description?: string;
  tags?: string[];
  pubDatetime: Date;
  draft?: boolean;
  ogImage?: ImageMetadata | string;
}
```

## é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶

- Node.js 20.x
- Git

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºï¼ˆã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ï¼‰

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/yucchiy/blogv4.git
cd blogv4

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
npm run dev
```

> **Note**: ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ã§èµ·å‹•ã™ã‚‹å ´åˆã€`src/data/blog/` ãŠã‚ˆã³ `src/data/projects/` ã«Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒªãƒã‚¸ãƒˆãƒªã¨é€£æºã—ãŸé–‹ç™º

é€šå¸¸ã¯ [blog.yucchiy.com](https://github.com/yucchiy/blog.yucchiy.com) ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰é–‹ç™ºã—ã¾ã™ï¼š

```bash
# ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/yucchiy/blog.yucchiy.com.git
cd blog.yucchiy.com

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•ï¼ˆblogv4ã‚’è‡ªå‹•ã§cloneã—ã¦èµ·å‹•ï¼‰
npm run dev
```

## ãƒ“ãƒ«ãƒ‰

```bash
# æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run build

# ãƒ“ãƒ«ãƒ‰çµæœã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
npm run preview
```

## ã‚·ã‚¹ãƒ†ãƒ ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ†é›¢

ã“ã®ãƒ–ãƒ­ã‚°ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ç®¡ç†ã•ã‚Œã¦ã„ã¾ã™ï¼š

- **ã‚·ã‚¹ãƒ†ãƒ ** (ã“ã®ãƒªãƒã‚¸ãƒˆãƒª): Astroãƒ™ãƒ¼ã‚¹ã®ãƒ–ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ 
- **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„** ([blog.yucchiy.com](https://github.com/yucchiy/blog.yucchiy.com)): è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã¨ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š

### åˆ†é›¢ã®ãƒ¡ãƒªãƒƒãƒˆ

- ã‚·ã‚¹ãƒ†ãƒ ã®æ›´æ–°ãŒå®¹æ˜“
- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ç®¡ç†ãŒã‚·ãƒ³ãƒ—ãƒ«
- å†åˆ©ç”¨æ€§ã®å‘ä¸Š
- ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®šã¨ã‚·ã‚¹ãƒ†ãƒ ã®ç‹¬ç«‹

### ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã®é€£æº

GitHub Actionsã«ã‚ˆã‚‹ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã€ä»¥ä¸‹ã®æµã‚Œã§é€£æºã•ã‚Œã¾ã™ï¼š

1. blog.yucchiy.comãƒªãƒã‚¸ãƒˆãƒªã§ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒèµ·å‹•
2. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªï¼ˆblogv4ï¼‰ã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
3. `setup-ci.sh`ã«ã‚ˆã‚Šè¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼
   - `articles/` â†’ `src/data/blog/` ãŠã‚ˆã³ `src/data/projects/`
   - ç”»åƒ â†’ `public/assets/images/`
4. Astroã§ãƒ“ãƒ«ãƒ‰
5. GitHub Pagesã«ãƒ‡ãƒ—ãƒ­ã‚¤

## ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### ã‚µã‚¤ãƒˆè¨­å®š

`src/config.ts`ã§ã‚µã‚¤ãƒˆã®åŸºæœ¬è¨­å®šã‚’å¤‰æ›´ã§ãã¾ã™ï¼š

```typescript
export const SITE = {
  website: "https://blog.yucchiy.com/",
  author: "Yucchiy",
  title: "Yucchiy's Note",
  desc: "...",
  // ...
};
```

### ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¹ã‚­ãƒ¼ãƒ

`src/content.config.ts`ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚¹ã‚­ãƒ¼ãƒã‚’å®šç¾©ã—ã¾ã™ï¼š

```typescript
const blog = defineCollection({
  loader: glob({
    pattern: "**/*.{md,markdown}",
    base: `./${BLOG_PATH}`,
  }),
  schema: ({ image }) => z.object({
    title: z.string(),
    // ...
  }),
});
```

### ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

- `src/styles/base.css`: ãƒ™ãƒ¼ã‚¹ã‚¹ã‚¿ã‚¤ãƒ«
- `tailwind.config.cjs`: TailwindCSSè¨­å®š

## ä¸»è¦ãªæ©Ÿèƒ½

### URLç”Ÿæˆ

`src/utils/getPath.ts`ãŒè¨˜äº‹ã®URLã‚’ç”Ÿæˆã—ã¾ã™ï¼š

- ãƒ–ãƒ­ã‚°è¨˜äº‹: `/{year}/{month}/{slug}/`
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨˜äº‹: `/project/{type}/{slug}/`

### OGç”»åƒç”Ÿæˆ

`src/pages/[...slug]/index.png.ts`ã§å‹•çš„ã«OGç”»åƒã‚’ç”Ÿæˆã—ã¾ã™ã€‚

### RSSé…ä¿¡

`src/pages/rss.xml.ts`ã§RSSãƒ•ã‚£ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

### æ¤œç´¢æ©Ÿèƒ½

Pagefindã«ã‚ˆã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰æ¤œç´¢ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚

## ã‚³ãƒãƒ³ãƒ‰

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|:---|:---|
| `npm install` | ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« |
| `npm run dev` | é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆ`localhost:4321`ï¼‰ |
| `npm run build` | æœ¬ç•ªãƒ“ãƒ«ãƒ‰ï¼ˆ`./dist/`ã«å‡ºåŠ›ï¼‰ |
| `npm run preview` | ãƒ“ãƒ«ãƒ‰çµæœã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ |
| `npm run sync` | TypeScriptå‹å®šç¾©ã®ç”Ÿæˆ |

